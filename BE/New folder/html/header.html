<%--
  Created by IntelliJ IDEA.
  User: Acer
  Date: 12/22/2022
  Time: 8:39 AM
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="en">
<body>

<!-- ======= Header ======= -->
<header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
        <i class="bi bi-list toggle-sidebar-btn"></i>
        <a href="${pageContext.request.contextPath}/" class="text-decoration-none d-flex align-items-center">
            <h1 class="m-0 display-5 font-weight-semi-bold"><span
                    class="text-primary font-weight-bold border px-3 mr-1">E</span>Shopper</h1>
        </a>
    </div><!-- End Logo -->

    <div class="search-bar">
        <form class="search-form d-flex align-items-center" method="get" action="/ProductServlet">
            <input type="text" name="search" placeholder="Search" title="Enter search keyword">
            <button type="submit" title="Search"><i class="bi bi-search"></i></button>
        </form>
    </div><!-- End Search Bar -->

    <nav class="header-nav ms-auto">
        <ul class="d-flex align-items-center">

            <li class="nav-item d-block d-lg-none">
                <a class="nav-link nav-icon search-bar-toggle " href="#">
                    <i class="bi bi-search"></i>
                </a>
            </li><!-- End Search Icon-->

            <li class="nav-item">

                <a class="nav-link nav-icon" href="${pageContext.request.contextPath}/cart-detail.jsp">
                    <i class="bi bi-cart"></i>
<%--                    <span class="badge bg-primary badge-number">4</span>--%>
                </a><!-- End Cart Icon -->
            </li>
            <c:if test="${sessionScope.user == null}">
            <li class="nav-item dropdown pe-3">
            <li class="dropdown-item d-flex align-items-center" href="register">
                <button type="button" class="btn" data-bs-toggle="modal"
                        data-bs-target="#registerModal">
                    <span>Register</span>
                </button>
            </li>
                <%--            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">--%>
            <li class="dropdown-item d-flex align-items-center" href="login">
                <!-- Button trigger modal -->
                <button type="button" class="btn" data-bs-toggle="modal"
                        data-bs-target="#loginModal">
                    <span>Login</span>
                </button>
            </li>
            </c:if>
            <c:if test="${sessionScope.user != null}">
            <li class="nav-item">
                <a class="nav-link" href="#">Hello ${sessionScope.user.username}</a>
                
            </li>
            <li class="nav-item"><a class="nav-link" href="logout">Logout</a>
            </li>
            </c:if>

            <!-- Modal -->

            </li>

        </ul>
        <a id="userprofile" class="nav-link nav-profile d-flex align-items-center pe-0 visually-hidden" href="#"
           data-bs-toggle="dropdown">
            <img src="${pageContext.request.contextPath}/img/blank-user.png" alt="Profile"
                 class="rounded-circle">
            <span class="d-none d-md-block dropdown-toggle ps-2">Account</span>
        </a><!-- End Profile Iamge Icon -->

        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
                <h6>User's name</h6>
                <%--                        <span>Web Designer</span>--%>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center"
                   href="${pageContext.request.contextPath}/userprofile">
                    <i class="bi bi-person"></i>
                    <span>My Profile</span>
                </a>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center"
                   href="${pageContext.request.contextPath}/user-profile.jsp">
                    <i class="bi bi-gear"></i>
                    <span>Account Settings</span>
                </a>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center" href="#">
                    <i class="bi bi-box-arrow-right"></i>
                    <span>Sign Out</span>
                </a>
            </li>

        </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->

        </ul>
    </nav><!-- End Icons Navigation -->
</header>

</body>

</html>
